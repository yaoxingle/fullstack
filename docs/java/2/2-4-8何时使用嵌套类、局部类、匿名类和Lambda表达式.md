## 在嵌套类、本地类、匿名类和 Lambda 表达式之间进行选择

正如嵌套类一节中提到的，嵌套类使您可以对只在一个地方使用的类进行逻辑分组，增加封装的使用，并创建更具可读性和可维护性的代码。本地类、匿名类和 lambda 表达式也赋予了这些优点；但是，它们旨在用于更具体的情况：

1. 本地类：如果您需要创建一个类的多个实例、访问其构造函数或引入一种新的命名类型（例如，因为您需要稍后调用其他方法），请使用它。
2. 匿名类：如果您需要声明字段或其他方法，请使用它。
3. lambda 表达式：

- 如果您要封装要传递给其他代码的单个行为单元，请使用它。例如，如果您希望在集合的每个元素上、在流程完成时或流程遇到错误时执行特定操作，您将使用 lambda 表达式。
- 如果您需要一个函数式接口的简单实例并且上述条件都不适用（例如，您不需要构造函数、命名类型、字段或其他方法），请使用它。

4. 嵌套类：如果您的要求与本地类的要求相似，您希望该类型更广泛地可用，并且不需要访问局部变量或方法参数，请使用它。
5. 如果您需要访问封闭实例的非公共字段和方法，请使用非静态嵌套类（或内部类）。如果您不需要此访问权限，请使用静态嵌套类。