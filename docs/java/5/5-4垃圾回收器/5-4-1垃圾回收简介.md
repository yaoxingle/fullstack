## 内存管理

内存管理是软件开发的核心方面。应用程序定期创建新对象，并且对象定期超出范围并且不再能够被引用。让我们用一段代码来看看这意味着什么：

```java
class HelloWorld{
    String message;
    printHelloMessage(String name){
        message = "Hello " + name;//New String instance "message" created
        print(message);
    } //reference to message is lost once scope leaves method
}
```

在上面的例子中，在printHelloMessage()的开头为message分配了一个参考值，一个“hello”消息。一旦作用域离开printHelloMessage()，分配给message的参考值就不再可达，但仍然存在于内存中。每次执行printHelloMessage()时，都会给message分配一个新的参考值并分配内存。如果某个进程不存在，不能从内存中删除这些引用，那么最终应用程序可能会耗尽内存，因为所有可用的内存都被失效的引用消耗掉了。

在像C和c++这样的语言中，删除引用需要手动处理(例如通过调用free或delete)。这将从内存中删除引用，允许系统回收内存以便重用。

手动内存管理确实有一些优点。开发人员可以精确地控制何时删除对象。手动内存管理也可能更高效，因为没有后台进程在运行，会消耗系统资源监控内存使用情况。虽然随着现代自动化内存系统在性能上的改进，这种优势已经不那么重要了。

然而，手动内存管理也有一些显著的缺点。使用手动内存管理，开发人员必须意识到应用程序是如何使用内存的。这可能是一项耗时且困难的工作，需要开发人员为对象的安全分配和从内存中释放添加控制代码。这段代码也可能会分散其他开发人员的注意力，或者同一位开发人员稍后会返回一些他们已经编写的代码，因为它模糊了代码试图完成的有业务意义的工作。开发人员还可能不能正确处理错误条件，这可能导致对象未被删除，从而导致内存泄漏。

人工内存管理所涉及的大量工作和计算机迅速变得更强大，见证了向自动化内存管理的过渡。今天，大多数现代编程语言，包括Java，都使用垃圾收集器自动处理内存管理。

 

## Java中的内存管理

在Java中，内存管理是由垃圾收集器处理的，它是Java虚拟机(JVM)的一部分。在JVM中，垃圾收集器是一个监视内存中的对象的后台进程。垃圾收集器将定期运行垃圾收集，检查内存中的对象是否仍然可达，删除不可达的对象，并重新组织仍然存活的对象，以更有效地使用内存，并改进未来的垃圾收集。

垃圾收集器大大减少了开发人员管理内存所需的时间和精力。开发人员通常不需要仔细考虑内存管理。垃圾收集还有助于极大地减少(尽管不能消除)内存泄漏等问题。

在下一节中，我们将更深入地了解垃圾收集器在Java中的行为。